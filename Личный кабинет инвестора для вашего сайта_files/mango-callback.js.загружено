function MangoWidget(e){this.host=e.host,this.id=e.id,this.elem=e.elem,this.errorMessage=e.message,this.callbackButtonId=!1,this.type="",this.allowedCountries=[],this.currentCountry=[],this.fastCallback=null,this.closeTimeout=null,this.autoCloseTimeout=null,this.widget_show_error=!1,this.connection=!1;var b,k,w,_=this,i=!1,A={};function r(e){try{if(!Mango||!Mango.SEO||!Mango.SEO.sendEvent)return;Mango.SEO.sendEvent(e)}catch(e){console.error("Exception in MangoWidget::sendSeoEvent",e)}}function f(e,t,a,n){var o=function(e,t){var a;switch(t){case 2:a=30;break;case 3:a=40;break;case 4:a=50;break;case 5:a=60;break;case 6:a=70}return e.animate({"padding-left":a+"px"},100).attr("data-padding",a),a}(e,n),r=a.replace(/[\(\)\s\-]/g,"").length*t,i=null!==a.match(/[\(\)\s\-]/g)?a.match(/[\(\)\s\-]/g).length:0,l=o+(r+i*(0==i?0:r/(i*t)+5))+"px";parseInt(e.css("width"))+o+"px"!=l&&e.animate({width:l},100)}function C(){return"selected-dynamic"==k.styles.formatCall}function l(e,t){var a=t.parents(".widget-wrapper").find(".widget-start-time").val()||0;_.setStatus("waiting");var n={number:encodeURIComponent(e),dateStart:parseInt(a)},o=function(e){if(void 0===window.atob)return"";if(!Mango||!Mango.modules||!Mango.modules.getModule)return"";var a=[],t=Mango.modules.getModule("calltracking");if(!t||!t.widgets)return"";a=t.widgets;var n=Object.keys(a);if(0===n.length)return"";var o=+atob(e),r=n.filter(function(e){var t=a[e];return t&&t.numbers&&t.numbers.length&&t.settings&&t.settings.callbacks&&t.settings.callbacks.some(function(e){return e===o})}).map(function(e){return{id:e,number:a[e].numbers[0].number}});if(0===r.length)return"";var i={uid:Mango.session.getUserId(),sid:Mango.session.getSessionId(),widgets:r};return JSON.stringify(i)}(_.callbackButtonId);o&&(n.calltracking=o);var r=_.host+"widget/order-call/"+_.callbackButtonId+"?callback=?";return b.getJSON(r,n,function(e){var t,a,n;_.setStatus("success"),k.useGaEvents&&(!(t=window.GoogleAnalyticsObject)||(a=window[t])&&(n="not-work"!=k.workMode?"call order work":"call order not work",(a.getAll()||[]).forEach(function(e){e.send("event","callback button","call order",""),e.send("event","callback button",n,"")})))})}function x(a,e){var s="";return b.each(e,function(e,t){t.date==a&&b.each(t.times,function(e,t){var a=new Date(1e3*t),n=new Date(1e3*t+18e5),o=("0"+a.getHours()).substr(-2),r=("0"+a.getMinutes()).substr(-2),i=("0"+n.getHours()).substr(-2),l=("0"+n.getMinutes()).substr(-2);s+='<option value="'+t+'">'+o+":"+r+" - "+i+":"+l+"</option>"})}),s}function M(e){var a=[],r=new Date;return b.each(e,function(e,t){var n=[],o=new Date(1e3*t.date+6e4*r.getTimezoneOffset());b.each(t.times,function(e,t){var a=new Date(1e3*t+18e5);o.setHours(a.getHours()),o.setMinutes(a.getMinutes()),r<=o&&n.push(t)}),0<n.length&&a.push({date:t.date,times:n})}),a}function T(e){var l="",s=new Date;return"work"==k.workMode?b.each(e,function(e,t){var a=new Date(1e3*t.date+6e4*s.getTimezoneOffset());l+='<option value="'+t.date+'">'+a.getDate()+" "+k.translate["month_"+(a.getMonth()+1)]+"</option>"}):b.each(e,function(e,t){var a,n,o,r=new Date(1e3*t.date+6e4*s.getTimezoneOffset()),i=(a=r,(o=new Date).setDate(s.getDate()+1),a.toDateString()==s.toDateString()?k.translate.today:o.toDateString()==a.toDateString()?k.translate.tomorrow:(n="in_"+(n=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][a.getDay()]).toLowerCase().trim(),k.translate[n]));l+='<option value="'+t.date+'">'+i}),l}function s(e){var a=b.extend({},e.styles),t=M(e.days);if(window.location.search)for(var n=window.location.search.substring(1).split("&"),o=0;o<n.length;o++){var r=n[o].split("=");if("type"===r[0]){a.workMode=r[1];break}}var i="",l=T(t);t[0]&&(i=x(t[0].date,t)),void 0===a.pattern&&(a.pattern={}),"string"==typeof a.pattern?a.pattern={pattern:a.pattern}:"object"==typeof a.pattern&&void 0===a.pattern.pattern&&(a.pattern.pattern=""),C()&&(a.formatCall="selected-label",a.formatLocation||(a.formatLocation="right-x"));var s=a.colorScheme.basic+"-color",c=a.colorScheme.additional+"-additional-color ",d=a.colorScheme.opacity,u='<div class="'+["widget-wrapper","mng-wgt","common-window","mng-wgt-index",a.copyright||"",a.formatView||"",a.formatLocation||"",s||"",c||"",d||"",a.formWidget||"",a.pattern.pattern||"",a.formatCall||""].join(" ")+'" style="position:fixed;"><div class="widget-wrapper__center"><div class="widget-content">',g=_.currentCountry,h="",w='<ul class="currentCountry">';g.default?0<_.allowedCountries.length?(w+='<li class="selectedCountry" data-country="'+_.allowedCountries[0].country_code+'" data-index="'+(g.ind||0)+'"><div class="triangle"></div><img class="flag flag-'+_.allowedCountries[0].country_code+'" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"/></li>',h+='<span class="box-phone-span-input '+_.allowedCountries[0].country_code+'-box-phone-span-input" data-content="+'+_.allowedCountries[0].phone_code+'"><input placeholder="'+_.allowedCountries[0].placeholder+'" class="call-input" mask="'+_.allowedCountries[0].mask+'" restrict="reject" clean="true"/></span>'):(w+='<li class="selectedCountry" data-country="'+e.locale+'" data-index="0"><img class="flag flag-'+e.locale+'" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"/></li>',h+='<span class="box-phone-span-input '+e.locale+'-box-phone-span-input" data-content="+'+g.phone_code+'"><input placeholder="'+g.placeholder+'" class="call-input" mask="'+g.mask+'" restrict="reject" clean="true"/></span>'):(w+='<li class="selectedCountry" data-country="'+e.locale+'" data-index="'+(g.ind||0)+'">'+(0<_.allowedCountries.length?'<div class="triangle"></div>':"")+'<img class="flag flag-'+e.locale+'" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"/></li>',h+='<span class="box-phone-span-input '+e.locale+'-box-phone-span-input" data-content="+'+g.phone_code+'"><input placeholder="'+g.placeholder+'" class="call-input" mask="'+g.mask+'" restrict="reject" clean="true"/></span>'),w+='<li class="changeCountry"><ul class="selectCountryList">',g.default||(w+='<li class="selectCountry userCountry" data-country="'+g.country_code+'" data-code="+'+g.phone_code+'" data-mask="'+g.mask+'" data-placeholder="'+g.placeholder+'" data-index="'+g.ind+'"><div class="selectCountryTable"><div class="selectCountryTableCell"><img class="flag flag-'+g.country_code+'" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"/></div><div class="countryName">'+("de"===e.locale?g.country_de:"ru"===e.locale?g.country_ru:g.country_en)+'</div><div class="countryCode">+'+g.phone_code+"</div></div></li>");for(var f,p,m=0;m<_.allowedCountries.length;m++){var y=_.allowedCountries[m].country_code,v=_.allowedCountries[m].phone_code;w+='<li class="selectCountry" data-country="'+y+'" data-code="+'+v+'" data-mask="'+_.allowedCountries[m].mask+'" data-placeholder="'+_.allowedCountries[m].placeholder+'" data-index="'+m+'"><div class="selectCountryTable"><div class="selectCountryTableCell"><img class="flag flag-'+y+'" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"/></div><div class="countryName">'+("de"===e.locale?_.allowedCountries[m].country_de:"ru"===e.locale?_.allowedCountries[m].country_ru:_.allowedCountries[m].country_en)+'</div><div class="countryCode">+'+v+"</div></div></li>"}switch(w+="</ul></li></ul>",w+=h,a.workMode&&"not-work"==a.workMode||!a.workMode&&"not-work"==e.workMode?u+='<h5 class="title-widget">'+a.textWidget.firstText+'</h5><p class="text-widget">'+a.textWidget.secondText+'</p><div class="box-select-group"><div class="select-list"><div class="select-item"><select class="select-day-week">'+l+'</select></div><div class="select-item"><select class="select-time widget-start-time">'+i+'</select></div></div></div><div class="box-phone-number">'+w+'<div class="button-call button-widget"></div></div>':u+='<h5 class="title-widget">'+a.textWidget.workTitle+'</h5><p class="text-widget">'+a.textWidget.workText+'</p><div class="box-phone-number">'+w+'<div class="button-call button-widget"></div></div>',""===a.policy&&(u+='<div class="'+("selected-dynamic"!==k.styles.formatCall?"text-policy":"text-policy-dynamic")+'">'+a.textWidget.policyText+"</div>"),_.flags=w,u+="</div>",u+='<div class="thanks-content"><h5 class="title-widget">'+e.translate.thanks+'</h5><p class="text-widget">'+e.translate.order_complete+'</p></div><div class="wait-content"><div class="clock"></div><h5 class="title-widget">'+e.translate.wait+'</h5><p class="text-widget">'+e.translate.order_waiting+"</p></div>",u+='</div><div class="close-popup"></div><button class="button-widget-open">'+a.textButtonWidget.firstText+'</button><a href="'+e.translate.widget_link_url+'" class="technology" target="_blank">'+e.translate.widget_link_text+"</a></div>",0==_.element.find(".mng-overlay").length&&(u+='<div class="mng-overlay"></div>'),_.element.find(".widget-wrapper").remove(),_.element.append(u),-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome")&&(f=b("#mango-widget").find(".widget-wrapper"),p=function(){var e,t;a.formatView||(e=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,f.css("top",Math.max(0,(e-b(f).outerHeight())/2)+"px")),a.formatLocation||(t=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,f.css("left",Math.max(0,(t-b(f).outerWidth())/2)+"px"))},b(function(){b(window).resize(function(){p()}),setTimeout(function(){f.css("-webkit-transform","translate(0,0)"),p()},300)})),e.workMode){case"work":_.element.find(".widget-callfromsite").show();break;default:_.element.find(".widget-wrapper").addClass("common-window"),_.element.find(".widget-callback-not-work").show()}D(),C()&&function(e){var i=_.element.find(".widget-wrapper"),t=b.extend({},e.styles),a=i.find(".widget-content"),l=i.find(".thanks-content"),n=i.find(".wait-content"),o=0===location.pathname.indexOf("/widget/callback/");o&&"?type=work"==location.search?k.workMode="work":o&&"?type=not-work"==location.search&&(k.workMode="not-work");void 0===t.textDynamicWidget&&(t.textDynamicWidget={});void 0===t.textNotWorkingDynamicWidget&&(t.textNotWorkingDynamicWidget={});var r=t.textDynamicWidget.firstText||"",s=t.textNotWorkingDynamicWidget.firstText||"",c=t.textDynamicWidget.secondText||"",d=t.textDynamicWidget.thirdText||k.translate.dynamic_button_header;i.removeClass("selected-label").addClass("selected-dynamic"),i.find(".button-widget-open").text(""),a.find(".title-widget").text(d),a.find(".text-widget").html(E(O()?r:s)),a.find(".box-select-group").hide(),l.find(".text-widget").text(e.translate.dynamic_button_thank_you),i.find(".button-call").text(c),_.element.find(".mng-overlay").hide(),i.find(".call-input").height(35),t.pattern&&t.pattern.linkVideo&&t.pattern.useVideo&&(a.prepend('<div class="background-video"><div id="mango-video-container"></div></div>'),l.prepend('<div class="background-video"><div id="mango-video-thanks-container"></div></div>'),n.prepend('<div class="background-video"><div id="mango-video-wait-container"></div></div>'));function u(){var e,t,a=b("body");!i.hasClass("widget-show")||650<a.width()?i.css("top","auto"):(e=b(window).height()>window.screen.height?window.screen.height:b(window).height(),t=Math.round(e/2),i.css("top",t+"px"))}function g(){var e,t;k.styles.pattern.useVideo&&0===Object.keys(A).length?function(t){var e=document.createElement("script"),a=document.getElementsByTagName("script")[0];_.element.find(".widget-wrapper");if(e.id="youtube-api",e.src="https://www.youtube.com/player_api",!t)return;document.getElementById(e.id)||a.parentNode.insertBefore(e,a);function n(t,e){"undefined"!=typeof YT&&(A[t]=new YT.Player(t,{videoId:e,playerVars:{loop:1,autoplay:1,autohide:1,controls:0,showinfo:0,disablekb:1,modestbranding:1,rel:0,cc_load_policy:1,iv_load_policy:3},events:{onReady:function(e){e.target.mute(),_.element.find(".widget-show").length&&I(A[t]),e.target.playVideo()},onStateChange:function(e){e.data==YT.PlayerState.ENDED&&e.target.playVideo()}}}))}function o(){Object.keys(A).length?Object.keys(A).forEach(function(e){A[e].loadVideoById(t)}):(n("mango-video-container",t),n("mango-video-thanks-container",t),n("mango-video-wait-container",t))}S=function(e){e=e||100;setTimeout(function(){Object.keys(A).forEach(function(e){I(A[e])})},e)},b(window).resize(S),window.onYouTubeIframeAPIReady!=o?window.onYouTubeIframeAPIReady=o:o()}((e=k.styles.pattern.linkVideo,!(!(t=e.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/))||11!=t[7].length)&&t[7])):k.styles.pattern.useVideo&&Object.keys(A).length&&Object.keys(A).forEach(function(e){A[e].playVideo()})}b(window).resize(u),_.element.on("statusChange",function(e,t){var a,n,o,r;C()&&(S(),u(),i.hasClass("thanks")&&"close"==t&&i.removeClass("thanks"),"success"!=t||O()||l.find(".text-widget").text((a=j.date,n=j.time.split("-"),o=n[0].trim(),r=n[1].trim(),k.translate.dynamic_button_thank_you_not_work.replace("{timeStart}",o).replace("{timeEnd}",r).replace("{date}",a))),"open"==t&&g(),"close"==t&&Object.keys(A).forEach(function(e){A[e].stopVideo()}))})}(e)}function E(e,t){var a,t=t||5,n=e.length;return n<13?e:(a=(e=e.replace("<br>"," ")).indexOf(" ",Math.ceil(n/2)-t),e.substring(0,a)+"<br>"+e.substring(a+1,n))}this.initWidget=function(){!function(e){{var t,a;void 0===window.jQuery?(t=window.$,o("js/jquery-1.7.2.js",function(){b=window.jQuery.noConflict(),window.$=t,(window.Mango=window.Mango||{}).jQuery=b,e()})):!function(e){var t;return"function"==typeof e&&("object"==typeof(t=e())&&void 0!==t.jquery&&0<=function(e,t){if(e==t)return 0;for(var a=e.split("."),n=t.split("."),o=Math.min(a.length,n.length),r=0;r<o;r++){if(parseInt(a[r])>parseInt(n[r]))return 1;if(parseInt(a[r])<parseInt(n[r]))return-1}return a.length>n.length?1:a.length<n.length?-1:0}(t.jquery,"1.7.2"))}(window.jQuery)?(a=window.jQuery.noConflict(),o("js/jquery-1.7.2.js",function(){b=window.jQuery.noConflict(),window.jQuery=window.$=a,(window.Mango=window.Mango||{}).jQuery=b,e()})):(b=window.jQuery,(window.Mango=window.Mango||{}).jQuery=b,e())}}(function(){var e;e=function(){var e;e=function(){_.elem?_.element=b(_.elem):_.element=b("#"+_.id);var a=_.element.data("settings");_.callbackButtonId=a.id;var e=new Date,t=_.host+"widget/get-callback-widget/"+a.id+"?callback=?&timeOffset="+e.getTimezoneOffset()+"&type="+a.type+"&serv="+a.srv;b.support.cors=!0,b.getJSON(t,a,function(e){(k=e).widget_id=a.id;var t=_.element.attr("data-optionsView");t&&(e.styles=jQuery.parseJSON(t)),_.currentCountry=e.currentCountry,_.allowedCountries=e.allowedCountries,function(e,t){!function(e){switch(e){case 1:case 2:return _.element.find("#mango-widget-btn").attr("onclick",'alert("'+k.translate.widget_unavailable+'"); false;'),!1;case 3:return c(),!1}return!0}(e.widgetStatus)||(b("<link>",{rel:"stylesheet",type:"text/css",href:_.host+"css/widget.css"}).appendTo("head"),b("<link>",{rel:"stylesheet",type:"text/css",href:_.host+"css/flags.css"}).appendTo("head"),setTimeout(function(){s(e),t()},200));b(document).on("click",function(e){var t=_.element.find(".changeCountry"),a=_.element.find(".currentCountry>.selectedCountry");0===_.element.find(".selectedCountry").has(e.target).length&&(t.css("display","none"),a.removeClass("showCountriesList"))}),_.element.on("click",".currentCountry .selectCountryList > .selectCountry",n),_.element.on("click",".button-call",function(e){var t=b(e.target),a=t.prev().find(".call-input"),n=a.parent().attr("data-content").split("(")[0].replace(/\+/g,"")+a.val(),o=t.hasClass("js-fast-callback");if(!function(e,t){var a=t.parents(".widget-wrapper"),n=a.hasClass("fast-callback"),o=a.find(".currentCountry>.selectedCountry").attr("data-index"),r=_.allowedCountries[o].phone_code.length;if(e=e.replace(/[()\-\s]/g,""),!(!_.type&&e.length-r>=_.allowedCountries[o].min&&_.allowedCountries[o].max>=e.length-r))return;C()&&"not-work"==k.workMode?j(l.bind(null,e,t)):l(e,t);n&&_.fastCallback.timerStage();_.fastCallback&&_.fastCallback.orderComplete()}(n,t),Mango&&Mango.SEO&&Mango.SEO.events){if(o)return void r(Mango.SEO.events.widget_leadgen_created);r(Mango.SEO.events.widget_callback_created)}}),_.element.on("click",".button-widget-open",function(){_.element.find(".widget-wrapper:not(.fast-callback)").hasClass("widget-show")?_.setStatus("close"):_.setStatus("open",e)}),_.element.on("change",".select-day-week",function(){b(".widget-start-time").html(x(b(this).val(),M(k.days))),b(".widget-end-time").html(x(b(this).val(),M(k.days)))}),_.element.on("click",".close-popup",function(e){b(e.target).parents(".widget-wrapper").hasClass("fast-callback")?_.fastCallback.closeWidget():_.setStatus("close")})}(e,function(){i=!0,(a.type||0<window.location.href.indexOf("autoOpen=1"))&&_.setStatus("open",e),_.type=a.type||null,!e.use_tracking&&"fast-callback"!=e.workMode||function(t){var a=t.styles.fastCallback||{},n=!t.styles.copyright;a.flags=_.flags,a.policy=t.styles.policy,"fast-callback"==t.workMode&&_.element.find(".widget-wrapper").first().hide();(function(e){var e=e||"widgets/mango-fast-callback.js",t=document.createElement("script"),a=b.Deferred();return t.setAttribute("type","text/javascript"),t.setAttribute("src",_.host+e),t.onerror=a.reject.bind(a),t.onload=a.resolve.bind(a),(document.getElementById(_.id)||document.documentElement).appendChild(t),(a=a.promise()).fail(function(){c()}),a})().done(function(){var e;!Mango.Callback.FastCallbackWidget.isFastCallbackAvailable()&&"fast-callback"!=t.workMode||(_.fastCallback=new Mango.Callback.FastCallbackWidget(jQuery.parseJSON(t.fast_callback),a,t.translate,_.element),_.fastCallback.splitText=E,_.fastCallback.init(t.styles,n),e=_.element,_.element=_.fastCallback.element,D(),(_.element.hasClass("dark-cerulean-color")||_.element.hasClass("graphite-black-color"))&&_.element.find(".widget-wrapper").hasClass("selected-button")&&_.element.find(".currentCountry>.selectedCountry .triangle").addClass("dark"),_.element=e,"fast-callback"==t.workMode&&_.fastCallback.showWidget())})}(e)})})},void 0===b.Storage?o("js/jquery.storage.js",function(){b.Storage=window.jQuery.Storage,e()}):e()},void 0===window.VMasker?o("js/vanilla-masker.js",function(){e()}):e()})},this.setStatus=function(e,t){if(!_.type&&i){var a,n,o=_.element.find(".widget-wrapper:not(.fast-callback)"),r=_.element.find(".widget-wrapper.fast-callback.widget-show");switch(e){case"open":!o.hasClass("widget-show")&&function(e){var t=function(e){var t=new Date,a=t.toISOString().substring(0,10);if(-1!==(e.nonWorkingDaysException||[]).indexOf(a))return!1;var n=new Date(e.workInterval.start),o=new Date(e.workInterval.finish),r=e.workInterval.lunchStart?new Date(e.workInterval.lunchStart):null,i=e.workInterval.lunchFinish?new Date(e.workInterval.lunchFinish):null;return r&&i?n<=t&&t<o&&!(r<=t&&t<i):n<=t&&t<o}(e);if("work"===e.workMode&&!t)return e.workMode="not-work",!0;if("not-work"===e.workMode&&t)return e.workMode="work",!0;return!1}(t)&&(s(t),o=_.element.find(".widget-wrapper")),setTimeout(function(){o.toggleClass("widget-show"),o.removeClass("thanks"),o.removeClass("wait"),o.hasClass("widget-show")&&o.hasClass("selected-button")&&_.element.find(".mng-overlay").show().animate({opacity:"0.5"},500)},0),_.autoCloseTimeout=setTimeout(function(){_.setStatus("close")},6e4),a=_.element.find(".call-input"),n=_.element.attr("data-number"),!a.val()&&n&&(10<(n=n.replace(/[()\-\+\s]/g,"")).length&&(n=n.substr(n.length-10)),a.val(n),w&&w.maskPattern(w.opts.pattern));break;case"success":o.addClass("thanks"),o.removeClass("wait"),_.closeTimeout=setTimeout(function(){_.setStatus("close"),r||_.element.find(".mng-overlay").animate({opacity:"0"},500).hide(1)},5e3);break;case"close":o.removeClass("widget-show"),clearTimeout(_.closeTimeout),clearTimeout(_.autoCloseTimeout),_.element.find(".mng-overlay").animate({opacity:"0"},500).hide(1);break;case"waiting":o.addClass("wait"),o.removeClass("thanks");break;case"connection-failed":!function(e){_.element.find(".widget-wrapper").addClass("common-window"),_.element.hasClass("selected-label")&&_.element.css({right:"-545px"}),_.element.find(".widget-callfromsite").hide();var t=_.element.find(".widget-callfromsite-not-work");switch(e){case 1:case 2:t.find(".title-widget").text(""),t.find(".text-widget").text(k.translate.widget_call_error+" ("+e+")");break;case 3:t.find(".title-widget").text(""),t.find(".text-widget").text(k.translate.widget_not_supported);break;case 4:t.find(".title-widget").text(""),t.find(".text-widget").text(k.translate.widget_not_supported_flash)}_.widget_show_error=!0,t.show()}(1),_.element.find(".mng-overlay").animate({opacity:"0"},500).hide(1)}setTimeout(function(){_.element.trigger("statusChange",[e])},0)}};var S=function(){};function I(e){var t,a,n,o,r,i,l=e.getIframe();l&&(a=(t=l.parentNode).offsetWidth,n=t.offsetHeight,o=Math.round(a/(16/9)),r=Math.round(n*(16/9)),i=-Math.round(o/2-n/2),a<n&&(l.style.width=r+"px",l.style.height=n+"px",i=-Math.round(r/2-a/2),l.style.marginLeft=i+"px",l.style.marginTop="0px"),n<=a&&0<=i&&(l.style.height=n+"px",l.style.width=a+"px",l.style.marginTop="0px",l.style.marginLeft="0px"),n<=a&&i<0&&(l.style.width=a+"px",l.style.height=o+"px",l.style.marginTop=i+"px",l.style.marginLeft="0px"))}function O(){return"not-work"!=k.workMode}function j(a){var e=_.element.find(".widget-wrapper:not(fast-callback) .button-call"),t=_.element.find(".box-select-group"),n=_.element.find(".box-phone-number");t.is(":visible")?a():(e.text(k.translate.dynamic_button_not_work_button),t.css("display","inline-block"),_.element.find(".widget-content .widget-text").text(k.translate.dynamic_button_not_work_text),n.find(".box-phone-span-input").hide(),n.find(".currentCountry").hide(),S(),e.off().on("click",function(){var e=_.element.find(".select-day-week option:selected").text(),t=_.element.find(".select-time option:selected").text();j.date=e,j.time=t,a()}))}function D(){var e,t=_.currentCountry.default&&0<_.allowedCountries.length?(e={mask:_.allowedCountries[0].mask.replace(/\?/g,""),placeHolder:_.allowedCountries[0].placeholder},_.allowedCountries[0].phone_code.length+1):(e={mask:_.currentCountry.mask.replace(/\?/g,""),placeHolder:_.currentCountry.placeholder},_.currentCountry.phone_code.length+1),a=_.element.find(".call-input");(w=VMasker(a[0])).maskPattern(e.mask),a.attr("placeholder",e.placeHolder),f(a,12.5,e.placeHolder,t),(_.element.find(".widget-wrapper").hasClass("dark-cerulean-color")||_.element.find(".widget-wrapper").hasClass("graphite-black-color"))&&_.element.find(".widget-wrapper").hasClass("selected-button")&&_.element.find(".currentCountry>.selectedCountry .triangle").addClass("dark"),1<_.allowedCountries.length?_.element.find(".selectedCountry").on("click",function(){b(this).toggleClass("showCountriesList"),b(this).hasClass("showCountriesList")?(b(".changeCountry").css("display","block"),_.allowedCountries.length<5&&b(".changeCountry").css("height",31*_.allowedCountries.length)):b(".changeCountry").css("display","none")}):_.element.find(".currentCountry>.selectedCountry>.triangle").css("display","none")}function n(e){var t=b(e.target),a=t.parents(".widget-wrapper"),n=t.hasClass("selectCountry")?t:t.parents(".selectCountry"),o=n.parents(".box-phone-number"),r=o.find(".call-input"),i=o.find(".selectedCountry"),l=i.find("img"),s=n.parents(".changeCountry"),c=n.attr("data-code"),d=n.attr("data-placeholder"),u=n.attr("data-index"),g=n.attr("data-country");f(r,12.5,d,c.length),l.removeClass("flag-"+i.attr("data-country")),i.attr("data-country",g),i.attr("data-index",u),l.addClass("flag-"+g),a.find(".box-phone-span-input").attr("data-content",c),r.val(""),r.attr("mask",n.attr("data-mask"));var h={mask:n.attr("data-mask").replace(/\?/g,""),placeHolder:n.attr("data-placeholder")};(w=VMasker(r[0])).maskPattern(h.mask),r.attr("placeholder",h.placeHolder),s.css("display","none"),i.removeClass("showCountriesList"),S(200)}function o(e,t){var a=document.createElement("script");a.setAttribute("type","text/javascript"),a.setAttribute("src",_.host+e),a.readyState?a.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||t()}:(a.onload=t,a.onerror=c),(document.getElementById(_.id)||document.documentElement).appendChild(a)}function c(e){var t=(e=!(!e&&"object"==typeof e)&&e)?"("+e+")":"";_.element?_.element.find(".button-widget-open").attr("onclick",'alert("'+_.errorMessage+t+'"); false;'):_.elem.querySelector(".button-widget-open").setAttribute("onclick",'alert("'+_.errorMessage+t+'"); false;')}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}!function(s,c){"use strict";c.$,c._;var t=c.Promise;c.CallTracking=c.CallTracking||{};c.CallTracking.GAProvider=function(){function e(){_classCallCheck(this,e),this.cId=null}return _createClass(e,[{key:"uId",get:function(){var e=this.getTrackers()[0];return e&&e.get?e.get("userId"):null}}]),_createClass(e,[{key:"check",value:function(){var e=s.GoogleAnalyticsObject;return s[e]||s._gaq}},{key:"ready",value:function(i,l){return new t(function(e){if(!i)return e();var t,a,n,o=s.GoogleAnalyticsObject,r=s[o];r?(t=setTimeout(e,l),c.Helpers.safeExec(function(){r(function(){clearTimeout(t),e()})},function(){return e()})):(a=s._gaq)?(n=setTimeout(e,l),c.Helpers.safeExec(function(){a.push(function(){clearTimeout(n),e()})},function(){return e()})):e()})}},{key:"getTracker",value:function(){var e=s.GoogleAnalyticsObject;return s[e]}},{key:"getTrackers",value:function(){var e=this.getTracker();return e&&e.getAll?e.getAll():[]}},{key:"updateClientId",value:function(){var e=c.Cookies.get("_ga");if(e){var t=c.Helpers.safeExec(function(){return e.split(".")},function(){return[]});if(3<t.length)return void this.updateCid(t[2]+"."+t[3])}var a,n=c.Cookies.get("__utma");!n||2<(a=n.split(".")).length&&this.updateCid(a[1]+"."+a[2])}},{key:"updateCid",value:function(e){return this.cId&&this.cId===e||(this.cId=e,c.Utils.EventBus.publish(c.Utils.EventChannels.UPDATE_CID,{gaCid:this.cId})),this.cId}}]),e}()}(window,(document,window.Mango=window.Mango||{})),function(i,t){"use strict";var l;t.$,t._,t.Promise;t.SEO=t.SEO||{},t.SEO.events={mch_chat_established:"mch_chat_established",mch_chat_created:"mch_chat_created",mch_chat_propose:"mch_chat_propose",mch_callback_created:"mch_callback_created",mch_callback_established:"mch_callback_established",mch_callback_lead:"mch_callback_lead",mch_leadgen_shown:"mch_leadgen_shown",mch_leadgen_created:"mch_leadgen_created",mch_leadgen_established:"mch_leadgen_established",widget_callback_created:"widget_callback_created",widget_callback_established:"widget_callback_established",widget_leadgen_shown:"widget_leadgen_shown",widget_leadgen_created:"widget_leadgen_created"},t.SEO.Yandex={reachGoal:function(t){try{var a=i.ym;if(!a||!a.a)return;var e=a.a.map(function(e){return e[0]});_toConsumableArray(new Set(e)).forEach(function(e){return a(e,"reachGoal",t)})}catch(e){console.error("Error in Yandex.Metrica")}}},t.SEO.Google=(l={mch_chat_established:{category:"mch_chat",action:"established"},mch_chat_created:{category:"mch_chat",action:"created"},mch_chat_propose:{category:"mch_chat",action:"propose"},mch_callback_created:{category:"mch_callback",action:"created"},mch_callback_established:{category:"mch_callback",action:"established"},mch_callback_lead:{category:"mch_callback",action:"lead"},mch_leadgen_shown:{category:"mch_leadgen",action:"shown"},mch_leadgen_created:{category:"mch_leadgen",action:"created"},mch_leadgen_established:{category:"mch_leadgen",action:"established"},widget_callback_created:{category:"widget_callback",action:"created"},widget_callback_established:{category:"widget_callback",action:"established"},widget_leadgen_shown:{category:"widget_leadgen",action:"shown"},widget_leadgen_created:{category:"widget_leadgen",action:"created"}},{sendEvent:function(e){try{var t=l[e];if(!t)return;var a=t.action,n=t.category,o=i.GoogleAnalyticsObject;if(!o)return;var r=i[o];if(!r||!r.getAll)return;(r.getAll()||[]).forEach(function(e){e.send({hitType:"event",eventCategory:n,eventAction:a})})}catch(e){console.error("Error in Google Analytics")}}}),t.SEO.sendEvent=function(e){t.SEO.Yandex&&t.SEO.Yandex.reachGoal(e),t.SEO.Google&&t.SEO.Google.sendEvent(e)}}(window,(document,window.Mango=window.Mango||{}));